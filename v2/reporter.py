import time
from selenium.webdriver.firefox.options import Options
from selenium import webdriver
import requests


firefox_options = Options()
firefox_options.add_argument('--headless')


def main():
    with open('hash.txt', 'r') as file1:

        r = requests.head('https://www.virustotal.com')
        if r.status_code == 200 or r.status_code == 405:

            for line in file1:
                url = 'https://www.virustotal.com/gui/file/' + line
                driver = webdriver.Firefox(options=firefox_options,
                                           executable_path='add here your local geckodriver path')
                driver.set_window_size(1272, 367)
                driver.get(url)
                time.sleep(1)
                driver.get_screenshot_as_file('report.png')
                driver.close()
        else:
            print('Service is unavailable')
            print('Wait ', 60, ' seconds!')
            time.sleep(60)
    return


if __name__ == '__main__':
    main()